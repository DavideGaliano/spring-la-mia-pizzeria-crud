<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" >
<head th:insert="~{fragments/fragments :: head}"></head>
<body>
	
	<header class="container">
		
    <!-- Navbar -->
    <nav th:replace="~{fragments/fragments :: navbar('pizze')} "></nav>

    <!-- /Navbar -->
		
	</header>
    
	<main class="container">
		<div class="row">
			<div class="col-12">
				<h1>
					Scegli la tua Pizza
				</h1>
				
				<!-- Form di ricerca -->
				       <form method="get" action="/pizze">
				           <div class="input-group mb-3">
				               <input type="text" name="search" class="form-control" placeholder="Search by name" th:value="${search}">
				               <button class="btn btn-outline-secondary" type="submit">Search</button>
				           </div>
				       </form>
				
				<th:block th:if="${pizze.size() > 0 }">
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>#</th>
							<th>Name</th>
							<th>Description</th>
							<th>Image</th>
							<th>Price</th>
							<th class="button-headers"></th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="pizza : ${pizze}">
							<td th:text="${pizza.id}"></td>
							<td th:text="${pizza.name}"></td>
							<td th:text="${pizza.description}"></td>
							<td ><img class="w-50" th:src="${pizza.url}"></td>
							<td th:text="${#numbers.formatCurrency(pizza.prezzo)}"></td>
							<td><a th:href="@{/pizze/{id}(id=${pizza.id})}" class="btn btn-sm btn-primary"> Show</a>
							<a  class="btn btn-sm btn-success"> Edit</a>
							<a  class="btn btn-sm btn-warning"> Delete</a></td>
						</tr>
					</tbody>
					
				</table>
				</th:block>
				<th:block th:unless="${pizze.size() > 0 }">
					<h3>Si son ciulati tutte le pizze</h3>
				</th:block>
			</div>
			
		</div>
		
		
		
	</main>

    <!-- Bootstrap JS and dependencies -->
	<div th:replace="~{fragments/fragments :: scripts} "></div>
</body>
</html>
